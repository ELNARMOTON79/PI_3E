<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Registro</title>
    <!-- Configura el viewport para que la página sea responsive en dispositivos móviles -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CDN de Tailwind CSS, Esto se quitara cuando se use el CLI de Tailwind  -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/6be6f14cdc.js" crossorigin="anonymous"></script>
    <!-- Script para la validación de la CURP -->
    <script>
        function validarCURP(curp) {
          const regex = /^([A-Z]{4})(\d{6})(H|M)([A-Z]{5})([A-Z\d]{2})$/;
          return regex.test(curp.toUpperCase());
        }
  
        function comprobarCURP() {
          const curpInput = document.getElementById("curp");
          const curpValue = curpInput.value.trim();
          const resultado = document.getElementById("resultado-curp");
  
          if (validarCURP(curpValue)) {
            resultado.textContent = "CURP válida";
            resultado.classList.remove("text-red-500");
            resultado.classList.add("text-green-500");
          } else {
            resultado.textContent = "CURP inválida";
            resultado.classList.remove("text-green-500");
            resultado.classList.add("text-red-500");
          }

        }  
      // Función para autocompletar los datos de colonia, estado y municipio basado en el código postal
      function autocompletarDomicilio() {
        const cp = document.getElementById("cp").value;
        const colonia = document.getElementById("colonia");
        const estado = document.getElementById("estado");
        const municipio = document.getElementById("municipio");

        // Ejemplo de datos para autocompletar (esto normalmente se haría consultando una API, pero no hay dinero)
        const datosCP = {
          "28000": {
            colonia: "Centro",
            estado: "Colima",
            municipio: "Colima"
          },
          "28010": {
            colonia: "Villa de Álvarez",
            estado: "Colima",
            municipio: "Villa de Álvarez"
          },
          "48970": {
           colonia: "Cihuatlan Centro",
           estado: "Jalisco",
           municipio: "Cihuatlan"
          }          
          // Agregar más códigos postales 
        };

        if (datosCP[cp]) {
          colonia.value = datosCP[cp].colonia;
          estado.value = datosCP[cp].estado;
          municipio.value = datosCP[cp].municipio;
        } else {
          colonia.value = "";
          estado.value = "";
          municipio.value = "";
        }
      }  
      </script>    

  </head>

  <body>

    <!-- Contenedor principal que ocupa al menos la altura completa de la pantalla -->
    <div class="min-h-full">
      <!-- Define una barra de navegación con clases Tailwind para diseño flexible -->
      <nav class="nav flex flex-wrap items-center justify-between px-4 bg-green-600 px-20">
        <div class="flex flex-no-shrink items-center mr-6 py-3 text-grey-darkest">
            <!-- Título del proyecto en el menú, estilizado con Tailwind CSS -->
            <span class="font-semibold text-xl tracking-tight text-white">Mi Proyecto</span>
        </div>

        <!-- Checkbox oculto para el control del menú en dispositivos móviles -->
        <input class="menu-btn hidden" type="checkbox" id="menu-btn">
    
        <!-- Icono del menú para dispositivos móviles, visible solo en pantallas pequeñas -->
        <label class="menu-icon block cursor-pointer md:hidden px-2 py-4 relative select-none" for="menu-btn">
          <span class="navicon bg-grey-darkest flex items-center relative"></span>
        </label>

        <!-- Lista de elementos del menú, con diseño responsivo -->
        <ul class="menu border-b md:border-none flex justify-end list-reset m-0 w-full md:w-auto">

          <!-- Botón "Donar" que abre un enlace en una nueva pestaña al hacer clic -->
          <li class="border-t md:border-none">
            <button class="bg-yellow-500 hover:bg-yellow-700 text-black font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit" onclick="window.open('')">
              Donar
            </button>
          </li>

          <!-- Botón "Regresar" que también abre un enlace en una nueva pestaña al hacer clic -->
          <li class="border-t md:border-none ml-2">
            <button class="bg-sky-500 hover:bg-sky-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit" onclick="window.open('')">
              Regresar
            </button>
          </li>          
        </ul>
      </nav>
 
      <!-- Contenedor principal del contenido, centrado y con márgenes automáticos -->
      <main>
        <div class="container ml-auto mr-auto flex flex-wrap items-start mt-8">
          
          <!-- Título central del sistema de registro -->  
          <div class="w-full pl-2 pr-2 mb-4 mt-4">
            <h1 class="text-3xl font-extrabold text-center"> Sistema de Registro Para Nuevos Aspirantes </h1>
          </div>
          
        </div> 

        <!-- Container para que el formulario sea responsive-->
        <div class="container ml-auto mr-auto flex items-center justify-center">

          <!-- Define el ancho del contenedor para el formulario, ajustable según el tamaño de la pantalla -->  
          <div class="w-full md:w-1/2">

            <!-- Formulario con márgenes internos y externos -->
            <form class="bg-white px-8 pt-6 pb-8 mb-4">

              <!-- Contenedor de entrada dividido en filas y columnas según el tamaño de pantalla -->  
              <div class="mb-4">
                <div class="grid grid-flow-row sm:grid-flow-col gap-3">
                  
                  <!-- Campo de texto para "Nombres y Apellidos" con estilo y validación requerida -->  
                  <div class="sm:col-span-4 justify-center">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="nya"> Nombres y Apellidos </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="nya" type="text" placeholder="Rivera Meza" required>
                  </div>

                  <!-- Campo de texto para "Email" con estilo y validación requerida -->
                  <div class="sm:col-span-4 justify-center">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="email"> Email </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="email" type="email" placeholder="Estudiante@ucol.com" required> 
                  </div>
                </div>
              </div>

              <!-- Campo de selección para "Fecha de nacimiento" -->
              <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="dob"> Fecha de nacimiento </label>
                <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="dob" type="date" required>
              </div>              

              <!-- Campo de texto para "CURP" con validación de formato -->
              <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="curp"> CURP </label>
                <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="curp" type="text" placeholder="Ingrese su CURP" oninput="comprobarCURP()" required>
                <p id="resultado-curp" class="text-sm mt-2"></p>
              </div>

              <!-- Campo de texto para "Teléfono" con lada seleccionable y restricción de solo números -->
              <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="telefono"> Teléfono </label>
                <div class="flex">
                  <select class="shadow appearance-none border rounded-l w-1/4 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="lada" required>
                    <option value="+52">+52 México</option>
                    <option value="+1">+1 EE.UU./Canadá</option>
                    <option value="+44">+44 Reino Unido</option>
                    <!-- Puedes agregar más opciones de lada según sea necesario -->
                  </select>
                  <input class="shadow appearance-none border rounded-r w-3/4 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="telefono" type="tel" placeholder="555-123-4567" pattern="\d*" required>
                </div>
              </div>

              <!-- Sección para "Asunto" con un menú desplegable 
              <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="persona"> Asunto </label>
                <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="persona" required>
                  <option value="">Selecciona una opción</option>
                  <option value="docente">Docente</option>
                  <option value="estudiante">Estudiante</option>
                  <option value="visitante">Visitante</option>
                </select>
              </div> -->

              <!-- Sección para "Domicilio" -->
              <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2"> Domicilio </label>
                <div class="mb-2">
                  <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="calle" type="text" placeholder="Calle" required>
                </div>
                <div class="flex mb-2">
                  <input class="shadow appearance-none border rounded-l w-1/2 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="num-interior" type="text" placeholder="Número interior">
                  <input class="shadow appearance-none border rounded-r w-1/2 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="num-exterior" type="text" placeholder="Número exterior" required>
                </div>
                <div class="mb-2">
                  <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="colonia" type="text" placeholder="Colonia" required>
                </div>
                <div class="mb-2">
                  <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="cp" type="text" placeholder="Código Postal" oninput="autocompletarDomicilio()" required>
                </div>
                <div class="mb-2">
                  <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="estado" type="text" placeholder="Estado" required>
                </div>
                <div class="mb-2">
                  <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="municipio" type="text" placeholder="Municipio" required>
                </div>
              </div>

              <!-- Campo de texto área para "Mensaje" con estilo y validación requerida -->
              <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="persona"> Asunto </label>
                <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="persona" required>
                  <option value="">Selecciona una opción</option>
                  <option value="docente">Docente</option>
                  <option value="estudiante">Estudiante</option>
                </select>
              </div>  

              <!-- Botón "Aceptar" con estilo que envía el formulario -->
              <div class="flex items-center justify-between">
                <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit"> Aceptar </button>
              </div>
            </form>              
            
          </div>

        </div> 

      </main>     
      
    </div>

    <!-- Pie de página que muestra el año actual dinámicamente y un mensaje de derechos reservados -->
    <footer class="footer-1 bg-gray-100 py-8 sm:py-12 text-center">
      <div class="container mx-auto">
        <p>©Proyecto Integrador <script>document.write(new Date().getFullYear())</script>. Todos los derechos reservados.</p>

      </div>
    </footer>

    <!-- Scriptara monetizar la pagina si es que funciona, usando Google AdSense-->
    <div class="pccp mt-2" align="center">
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

      <!-- Define un bloque de anuncios de Google AdSense -->      
      <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-2390065838671224"
                     data-ad-slot="1441100372"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>

      <!-- Activa los anuncios de Google AdSense en la página -->      
      <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
      </script>

    </div>

  </body>
</html>
